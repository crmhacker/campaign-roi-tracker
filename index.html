<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CRM Hacker — Click → Closed: Live ROI Tracking Demo</title>
  <meta name="description" content="Watch your own UTM, device, geo, and engagement data populate in real time — and see how CRM Hacker uses it to prove campaign ROI." />
  <meta name="theme-color" content="#2563eb" />
  <style>
    :root{
      /* CRM Hacker-like brand theme (dark + blue accents) */
      --brand:#2563eb; --brand-2:#22d3ee;
      --bg:#0b0c10; --card:#111827; --border:#1f2937;
      --text:#e5e7eb; --muted:#9ca3af;
      --ok:#10b981; --warn:#f59e0b; --danger:#ef4444;
      --radius:18px; --shadow:0 12px 32px rgba(0,0,0,.35);
      --tile-bg:#0c1220;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased}
    .container{max-width:1200px;margin:0 auto;padding:24px}

    /* Hero */
    .hero{background:
      radial-gradient(1200px 400px at 20% -10%, rgba(37,99,235,.25), transparent 60%),
      radial-gradient(900px 400px at 80% -10%, rgba(34,211,238,.18), transparent 60%),
      var(--card); border-bottom:1px solid var(--border)}
    .hero-inner{display:flex;gap:18px;align-items:center;padding:40px 0;flex-wrap:wrap}
    .brand{display:flex;align-items:center;gap:12px;background:rgba(255,255,255,.02);border:1px solid var(--border);border-radius:14px;padding:10px 12px}
    .logoBox{width:52px;height:52px;border-radius:12px;display:grid;place-items:center;overflow:hidden;background:
      linear-gradient(145deg, var(--brand), var(--brand-2));box-shadow:var(--shadow)}
    .logoBox img{width:100%;height:100%;object-fit:cover}
    .brandName{font-weight:800;letter-spacing:.3px}
    h1{font-size:clamp(26px,4vw,42px);line-height:1.1;margin:0 0 8px}
    .sub{color:var(--muted);margin:0}
    .notice{background:#0d1b2a;border:1px solid #1b263b;border-radius:var(--radius);padding:16px;margin:16px 0}

    /* Sections */
    .section{margin:26px 0}
    .card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:20px;box-shadow:var(--shadow)}
    .kicker{font-size:12px;letter-spacing:.12em;text-transform:uppercase;color:var(--muted);margin-bottom:8px}
    .h2{font-size:22px;margin:0 0 6px}
    .p{color:var(--muted);margin:6px 0 14px}
    .muted{color:var(--muted)}

    /* 4-across tile grid */
    .tiles{display:grid;gap:12px}
    @media(min-width:980px){.tiles.cols-4{grid-template-columns:repeat(4,1fr)}}
    @media(min-width:680px) and (max-width:979px){.tiles.cols-4{grid-template-columns:repeat(2,1fr)}}
    @media(max-width:679px){.tiles.cols-4{grid-template-columns:1fr}}

    .tile{background:var(--tile-bg);border:1px solid var(--border);border-radius:14px;padding:12px}
    .tile h3{font-size:14px;margin:0 0 6px}
    .kv{display:flex;align-items:center;justify-content:space-between;gap:8px;background:rgba(255,255,255,.02);border:1px dashed var(--border);padding:8px 10px;border-radius:10px}
    .kv label{color:var(--muted);font-size:11px}
    .kv code{font-family:ui-monospace,SFMono-Regular,Menlo,monospace;background:#0b0c10;border:1px solid var(--border);padding:2px 6px;border-radius:8px;max-width:60%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
    .why{font-size:11px;color:var(--muted);margin-top:6px;line-height:1.5}

    .flow{display:grid;gap:12px;margin-top:6px}
    @media(min-width:900px){.flow{grid-template-columns:repeat(5,1fr)}}
    .step{position:relative;padding:14px;border:1px solid var(--border);border-radius:14px;background:#0c1220}
    .step:after{content:"→";position:absolute;right:-10px;top:50%;transform:translateY(-50%);color:var(--muted)}
    .step:last-child:after{display:none}
    .sm{font-size:12px;color:var(--muted)}

    .cta{display:flex;flex-wrap:wrap;gap:12px;align-items:center;justify-content:space-between;background:linear-gradient(145deg, rgba(37,99,235,.18), rgba(34,211,238,.12));border:1px solid var(--border);border-radius:var(--radius);padding:18px}
    .btn{background:var(--brand);color:#fff;border:none;border-radius:12px;padding:12px 16px;font-weight:800;cursor:pointer;box-shadow:var(--shadow);text-decoration:none;display:inline-block}
    .btn.secondary{background:transparent;color:var(--text);border:1px solid var(--border)}

    .footer{color:var(--muted);font-size:12px;margin:24px 0}
  </style>
  <!-- PDF (CDNs keep this single-file) -->
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
  <header class="hero">
    <div class="container hero-inner">
      <div class="brand">
        <div class="logoBox"><img id="brandLogo" alt="CRM Hacker logo" /></div>
        <div>
          <div class="brandName" id="brandName">CRM Hacker</div>
          <div class="sub" id="brandTag">Salesforce & RevOps done right</div>
        </div>
      </div>
      <div>
        <h1 id="heroLine">From Click → Closed: watch your own data populate in real time.</h1>
        <p class="sub">This is the public, free data we pull instantly — and how modern teams use it to make marketing decisions.</p>
      </div>
    </div>
  </header>

  <main class="container">
    <div class="notice">We capture URL params (UTMs & click IDs), referrer, device, IP geo, and on-page engagement. No paid enrichment tools here — this is your **minimum viable proof**.</div>

    <!-- Acquisition & Attribution (tiles) -->
    <section class="section card">
      <div class="kicker">Acquisition & Attribution</div>
      <h2 class="h2">Where did this click come from?</h2>
      <p class="p">These parameters power channel/campaign/keyword ROI and de-duplicate credit across platforms.</p>

      <div class="tiles cols-4">
        <div class="tile">
          <h3>Referrer</h3>
          <div class="kv"><label>value</label><code id="referrer">—</code></div>
          <p class="why">Last page before landing here. Helps separate paid, organic, partner, and direct traffic.</p>
        </div>
        <div class="tile">
          <h3>Landing URL</h3>
          <div class="kv"><label>value</label><code id="landingUrl">—</code></div>
          <p class="why">Carry and persist UTMs across sessions; use for campaign audits and QA.</p>
        </div>
        <div class="tile">
          <h3>utm_source</h3>
          <div class="kv"><label>value</label><code id="utm_source">—</code></div>
          <p class="why">Channel/source name (e.g., google, linkedin). Core for ROI by channel.</p>
        </div>
        <div class="tile">
          <h3>utm_medium</h3>
          <div class="kv"><label>value</label><code id="utm_medium">—</code></div>
          <p class="why">Traffic type (cpc, social, email). Normalization keeps reporting clean.</p>
        </div>
        <div class="tile">
          <h3>utm_campaign</h3>
          <div class="kv"><label>value</label><code id="utm_campaign">—</code></div>
          <p class="why">Campaign name for budget shift decisions and goal tracking.</p>
        </div>
        <div class="tile">
          <h3>utm_content</h3>
          <div class="kv"><label>value</label><code id="utm_content">—</code></div>
          <p class="why">Creative/variant ID. A/B ad creative and landing page variants.</p>
        </div>
        <div class="tile">
          <h3>utm_term</h3>
          <div class="kv"><label>value</label><code id="utm_term">—</code></div>
          <p class="why">Keyword for search campaigns. Negative/expand based on ROI.</p>
        </div>
        <div class="tile">
          <h3>Click IDs</h3>
          <div class="kv"><label>gclid</label><code id="gclid">—</code></div>
          <div class="kv" style="margin-top:6px"><label>fbclid</label><code id="fbclid">—</code></div>
          <div class="kv" style="margin-top:6px"><label>msclkid</label><code id="msclkid">—</code></div>
          <div class="kv" style="margin-top:6px"><label>ttclid</label><code id="ttclid">—</code></div>
          <div class="kv" style="margin-top:6px"><label>li_fat_id</label><code id="li_fat_id">—</code></div>
          <p class="why">Platform-side join keys for revenue lift studies and offline conversion uploads.</p>
        </div>
        <div class="tile">
          <h3>Campaign Grouping</h3>
          <div class="kv"><label>value</label><code id="campaignGroup">—</code></div>
          <p class="why">Auto-buckets sessions (e.g., google-ads, linkedin-ads, email, direct) for rollup reporting.</p>
        </div>
      </div>
    </section>

    <!-- Device & Environment (tiles) -->
    <section class="section card">
      <div class="kicker">Device & Environment</div>
      <h2 class="h2">How are they experiencing your page?</h2>
      <p class="p">Design and QA decisions follow the buyer’s setup — device, OS, browser, screen.</p>

      <div class="tiles cols-4">
        <div class="tile"><h3>Device Type</h3><div class="kv"><label>value</label><code id="deviceType">—</code></div><p class="why">Mobile vs Desktop informs layout, copy density, and CTAs.</p></div>
        <div class="tile"><h3>OS</h3><div class="kv"><label>value</label><code id="os">—</code></div><p class="why">OS-specific bugs or rendering issues; creative specs by platform.</p></div>
        <div class="tile"><h3>Browser</h3><div class="kv"><label>value</label><code id="browser">—</code></div><p class="why">QA for Safari/Firefox quirks; performance tuning.</p></div>
        <div class="tile"><h3>Screen</h3><div class="kv"><label>value</label><code id="screen">—</code></div><p class="why">Viewport-driven hero sizing, fold placement, and component choices.</p></div>
        <div class="tile" style="grid-column: span 4;"><h3>User Agent</h3><div class="kv"><label>value</label><code id="ua">—</code></div><p class="why">Debugging and deep client hints if needed.</p></div>
      </div>
    </section>

    <!-- Geo & Org (tiles) -->
    <section class="section card">
      <div class="kicker">Geo & Org</div>
      <h2 class="h2">Where is this click coming from?</h2>
      <p class="p">IP-based geo + org/ISP hint at regional performance and potential company match.</p>

      <div class="tiles cols-4">
        <div class="tile"><h3>IP</h3><div class="kv"><label>value</label><code id="ip">—</code></div><p class="why">Fraud checks; dedupe; geo join for modeling.</p></div>
        <div class="tile"><h3>City</h3><div class="kv"><label>value</label><code id="city">—</code></div><p class="why">Localization for copy/offer; regional tests.</p></div>
        <div class="tile"><h3>Region</h3><div class="kv"><label>value</label><code id="region">—</code></div><p class="why">Bid modifiers; SDR territory routing.</p></div>
        <div class="tile"><h3>Country</h3><div class="kv"><label>value</label><code id="country">—</code></div><p class="why">Compliance, language, pricing, and SLA alignment.</p></div>
        <div class="tile"><h3>Org / ISP</h3><div class="kv"><label>value</label><code id="org">—</code></div><p class="why">Occasional corporate hints; weak signal without paid enrichment.</p></div>
      </div>
    </section>

    <!-- Engagement (tiles) -->
    <section class="section card">
      <div class="kicker">Engagement</div>
      <h2 class="h2">Are they actually engaging?</h2>
      <p class="p">High-signal, privacy-light metrics for qualification and CRO.</p>

      <div class="tiles cols-4">
        <div class="tile"><h3>Time on Page</h3><div class="kv"><label>value</label><code id="timeOnPage">0s</code></div><p class="why">Trigger nudges, qualify MQLs, inform retargeting windows.</p></div>
        <div class="tile"><h3>Scroll Depth</h3><div class="kv"><label>value</label><code id="scrollDepth">0%</code></div><p class="why">Content resonance; long-form vs short-form testing.</p></div>
        <div class="tile"><h3>Pageviews (session)</h3><div class="kv"><label>value</label><code id="pageviews">1</code></div><p class="why">Interest score; funnel step triggers.</p></div>
      </div>
    </section>

    <!-- Journey & ROI -->
    <section class="section card">
      <div class="kicker">From Click to Revenue</div>
      <h2 class="h2">How this connects to ROI</h2>
      <div class="flow">
        <div class="step"><strong>1) Ad Click</strong><br><span class="sm">UTMs + clids captured</span></div>
        <div class="step"><strong>2) Web Session</strong><br><span class="sm">Device, geo, engagement</span></div>
        <div class="step"><strong>3) Lead</strong><br><span class="sm">Form capture + enrichment</span></div>
        <div class="step"><strong>4) Pipeline</strong><br><span class="sm">Opp created w/ source</span></div>
        <div class="step"><strong>5) Revenue</strong><br><span class="sm">Closed won → campaign ROI</span></div>
      </div>
      <div class="card" style="margin-top:16px;background:#0c1220">
        <div class="kicker">Sample Projection (demo values)</div>
        <p class="p">Click est. cost: <strong id="projCost">$4.00</strong> • Similar-click pipeline: <strong id="projPipe">$12,000</strong> • Close rate: <strong id="projClose">21%</strong> • Est. revenue: <strong id="projRev">$2,520</strong></p>
        <p class="muted">Client builds replace these with your real ad platform + Salesforce numbers to report ROI by channel, campaign, ad, and keyword.</p>
      </div>
    </section>

    <!-- CTA -->
    <section class="section cta">
      <div>
        <div class="kicker">Next step</div>
        <div class="h2" style="margin:0 0 6px">This is free, real-time data. Connect your stack and get the full ROI picture.</div>
        <p class="sub" style="margin:0">We wire this directly into Salesforce + your ad platforms so finance, marketing, and sales see the same truth.</p>
      </div>
      <a class="btn" id="ctaBtn" href="https://calendly.com/crmhacker_jonathan" target="_blank" rel="noopener">Book an ROI Strategy Call</a>
    </section>

    <!-- Utilities -->
    <section class="section tiles cols-4">
      <button class="btn secondary" id="downloadPdfBtn">Download this report as PDF</button>
      <a class="btn secondary" href="#" onclick="window.scrollTo({top:0,behavior:'smooth'})">Back to top</a>
    </section>

    <div class="footer">
      <div class="card" style="background:#0c1220">
        <strong>Transparency:</strong> This demo shows what’s possible with public, free signals. Corporate identification and deeper intent typically require paid enrichment or first-party data integration. Always disclose tracking in your privacy policy.
      </div>
      <p class="sub" style="margin-top:8px">© <span id="footBrand">CRM Hacker</span>. All rights reserved.</p>
    </div>
  </main>

  <script>
    /* ================= BRAND CONFIG ================= */
    const BRAND = {
      name: "CRM Hacker",
      tag: "Salesforce & RevOps done right",
      // Use your live logo asset (from your site). Swap if you prefer another.
      logoUrl: "https://static.wixstatic.com/media/ab48db_05ac959e31e0427e9a6555528a57083d~mv2.png/v1/fill/w_980,h_127,al_c,q_85,enc_avif,quality_auto/Logo.png",
      ctaUrl: "https://calendly.com/crmhacker_jonathan",
      colors: { brand:"#2563eb", brand2:"#22d3ee", bg:"#0b0c10", card:"#111827", text:"#e5e7eb", muted:"#9ca3af", border:"#1f2937" },
      heroLine: "From Click → Closed: watch your own data populate in real time."
    };
    // Apply brand to the page
    (function applyBrand(){
      const root = document.documentElement;
      root.style.setProperty("--brand", BRAND.colors.brand);
      root.style.setProperty("--brand-2", BRAND.colors.brand2);
      root.style.setProperty("--bg", BRAND.colors.bg);
      root.style.setProperty("--card", BRAND.colors.card);
      root.style.setProperty("--text", BRAND.colors.text);
      root.style.setProperty("--muted", BRAND.colors.muted);
      root.style.setProperty("--border", BRAND.colors.border);
      document.title = `${BRAND.name} — Click → Closed: Live ROI Tracking Demo`;
      const el = (id,v)=>{const n=document.getElementById(id); if(n) n.textContent=v};
      el("brandName", BRAND.name); el("footBrand", BRAND.name); el("brandTag", BRAND.tag);
      const logoEl = document.getElementById("brandLogo"); if (logoEl && BRAND.logoUrl) { logoEl.src = BRAND.logoUrl; logoEl.alt = `${BRAND.name} logo`; }
      const ctaBtn = document.getElementById("ctaBtn"); if (ctaBtn && BRAND.ctaUrl) ctaBtn.href = BRAND.ctaUrl;
      const hero = document.getElementById("heroLine"); if (hero) hero.textContent = BRAND.heroLine;
      let theme = document.querySelector('meta[name="theme-color"]'); if (theme) theme.setAttribute("content", BRAND.colors.brand);
    })();

    /* ================= TRACKING ================= */
    const COMMON_PARAMS = ["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","fbclid","msclkid","ttclid","li_fat_id"];
    function getParams(){ const url = new URL(window.location.href); return Object.fromEntries(url.searchParams.entries()); }
    function persistParams(){
      const p = getParams(); const existing = JSON.parse(sessionStorage.getItem("params")||"{}"); const merged = {...existing};
      COMMON_PARAMS.forEach(k => { if(p[k]) merged[k] = p[k]; }); merged.landingUrl = window.location.href;
      sessionStorage.setItem("params", JSON.stringify(merged)); return merged;
    }
    function getReferrer(){ return document.referrer || "(direct / none)"; }

    function deviceInfo(){
      const ua = navigator.userAgent;
      const isMobile = /Mobi|Android/i.test(ua);
      const os = /Windows NT/i.test(ua) ? "Windows" :
                 /Mac OS X/i.test(ua) ? "macOS" :
                 /Android/i.test(ua) ? "Android" :
                 /iPhone|iPad|iPod/i.test(ua) ? "iOS" :
                 /Linux/i.test(ua) ? "Linux" : "Other";
      const browser = /Chrome/i.test(ua) && !/Edg/i.test(ua) ? "Chrome" :
                      /Edg/i.test(ua) ? "Edge" :
                      /Firefox/i.test(ua) ? "Firefox" :
                      /Safari/i.test(ua) && !/Chrome/i.test(ua) ? "Safari" :
                      /Opera|OPR/i.test(ua) ? "Opera" : "Other";
      const screenSize = `${window.screen.width}×${window.screen.height}`;
      return { type: isMobile ? "Mobile" : "Desktop", os, browser, screen: screenSize, ua };
    }

    async function geoLookup(){
      try{
        const r = await fetch("https://ipapi.co/json/");
        if(r.ok){ const j = await r.json();
          return { ip:j.ip||null, city:j.city||null, region:j.region||null, country:j.country_name||j.country||null, org:j.org||j.asn||null };
        }
        throw new Error("ipapi failed");
      }catch(e){
        try{
          const r2 = await fetch("https://ipinfo.io/json?token="); // limited fields w/out token
          if(r2.ok){ const j2 = await r2.json();
            return { ip:j2.ip||null, city:j2.city||null, region:j2.region||null, country:j2.country||null, org:j2.org||null };
          }
        }catch(e2){}
      }
      return { ip:null, city:null, region:null, country:null, org:null };
    }

    const sessionMetrics = { start: Date.now(), scrollMax: 0, pageviews: 1 };
    (function initPV(){ const key="pv"; const cur=Number(sessionStorage.getItem(key)||"0")+1; sessionStorage.setItem(key,String(cur)); sessionMetrics.pageviews = cur; })();
    window.addEventListener("scroll", ()=>{
      const depth = Math.round(100 * (window.scrollY + window.innerHeight) / document.body.scrollHeight);
      sessionMetrics.scrollMax = Math.min(100, Math.max(sessionMetrics.scrollMax, depth)); renderSession();
    });
    setInterval(renderSession, 1000);

    function campaignGrouping(params){
      const src = (params.utm_source||"").toLowerCase();
      const med = (params.utm_medium||"").toLowerCase();
      if(params.gclid) return "google-ads";
      if(params.fbclid) return "meta-ads";
      if(params.msclkid) return "microsoft-ads";
      if(params.li_fat_id) return "linkedin-ads";
      if(src.includes("linkedin")) return "linkedin";
      if(src.includes("google")) return "google-organic/other";
      if(src.includes("newsletter")||med==="email") return "email";
      if(!src && !document.referrer) return "direct";
      return `${src||"unknown"}-${med||"unknown"}`;
    }

    /* ================= RENDERERS ================= */
    function setText(id,val){ const el=document.getElementById(id); if(el) el.textContent = val ?? "—"; }

    function renderAcq(params){
      setText("referrer", getReferrer());
      setText("landingUrl", params.landingUrl || window.location.href);
      ["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","fbclid","msclkid","ttclid","li_fat_id"].forEach(k => setText(k, params[k] || "—"));
      setText("campaignGroup", campaignGrouping(params));
    }
    function renderDevice(d){ setText("deviceType", d.type); setText("os", d.os); setText("browser", d.browser); setText("screen", d.screen); setText("ua", d.ua); }
    function renderGeo(g){ setText("ip", g.ip); setText("city", g.city); setText("region", g.region); setText("country", g.country); setText("org", g.org); }
    function renderSession(){ const elapsed = Math.round((Date.now()-sessionMetrics.start)/1000); setText("timeOnPage", `${elapsed}s`); setText("scrollDepth", `${sessionMetrics.scrollMax}%`); setText("pageviews", String(sessionMetrics.pageviews)); }

    /* ================= PDF EXPORT ================= */
    async function downloadPDF(){
      const el = document.querySelector("main");
      const canvas = await html2canvas(el);
      const imgData = canvas.toDataURL("image/png");
      const { jsPDF } = window.jspdf;
      const pdf = new jsPDF({ orientation:"p", unit:"pt", format:"a4" });
      const pageW = pdf.internal.pageSize.getWidth(), pageH = pdf.internal.pageSize.getHeight();
      const margin = 24, imgW = pageW - margin*2, ratio = canvas.height / canvas.width, imgH = imgW * ratio;
      pdf.text(`${BRAND.name} — Live ROI Tracking Demo`, margin, 28);
      if(imgH <= pageH - 60){ pdf.addImage(imgData, "PNG", margin, 40, imgW, imgH); }
      else { // paginate long pages
        const sliceH = pageH - 80; let y = 0; let page = 0;
        while(y < canvas.height){
          const slice = document.createElement("canvas");
          slice.width = canvas.width; slice.height = Math.min(sliceH * canvas.width / imgW, canvas.height - y);
          slice.getContext("2d").drawImage(canvas, 0, y, canvas.width, slice.height, 0, 0, slice.width, slice.height);
          const img = slice.toDataURL("image/png"); if(page>0) pdf.addPage();
          pdf.addImage(img, "PNG", margin, 40, imgW, (slice.height / canvas.width) * imgW);
          y += slice.height; page++;
        }
      }
      pdf.save("Live_Tracking_Report.pdf");
    }
    document.getElementById("downloadPdfBtn").addEventListener("click", downloadPDF);

    /* ================= INIT ================= */
    (async function init(){
      const params = persistParams();
      const d = deviceInfo();
      const g = await geoLookup();
      renderAcq(params); renderDevice(d); renderGeo(g); renderSession();

      // Demo projection
      const cost = 4.00, pipe = 12000, close = 0.21, rev = Math.round(pipe * close);
      setText("projCost", `$${cost.toFixed(2)}`); setText("projPipe", `$${pipe.toLocaleString()}`); setText("projClose", `${Math.round(close*100)}%`); setText("projRev", `$${rev.toLocaleString()}`);
    })();
  </script>
</body>
</html>
